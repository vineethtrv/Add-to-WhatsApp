<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="HandheldFriendly" content="true" />
    <title>Add to WhatsApp | WhatsApp to unsaved numbers</title>
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#25d366">
    <meta name="msapplication-TileColor" content="#25d366">
    <meta name="theme-color" content="#128C7E">
    <link rel="manifest" href="manifest.json">

    <!--SEO -->

    <!-- Primary Meta Tags -->
    <meta name="title" content="WhatsApp to unsaved numbers">
    <meta name="description" content="Send WhatsApp messages to unsaved numbers">
    <meta name="image" content="images/seo.png">

    <!-- Schema.org for Google -->
    <meta itemprop="name" content="WhatsApp to unsaved numbers">
    <meta itemprop="description" content="Send WhatsApp messages to unsaved numbers">
    <meta itemprop="image" content="images/seo.png">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/vineethtrv/Add-to-WhatsApp">
    <meta property="og:title" content="WhatsApp to unsaved numbers">
    <meta name="og:site_name" content="WhatsApp to unsaved numbers">
    <meta name="og:type" content="website">
    <meta property="og:description" content="Send WhatsApp messages to unsaved numbers">
    <meta property="og:image" content="images/seo.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://github.com/vineethtrv/Add-to-WhatsApp">
    <meta property="twitter:title" content="WhatsApp to unsaved numbers">
    <meta property="twitter:description" content="Send WhatsApp messages to unsaved numbers">
    <meta property="twitter:image" content="images/seo.png">
    <!-- SEO -->

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <div class="brand">
            <img src="images/pl-logo.png" alt="">
            <h1>Add to WhatsApp</h1>
        </div>
    </header>

    <!-- Install popup -->
    <div id="install-pop">
        <h2>Install</h2>
        <div class="pop-cont">
            <h1>
                Send WhatsApp messages without saving unknown number.
            </h1>
            <button id="install-btn" type="btn">Install</button>
        </div>
    </div>
    <!--  -->


    <div class="form">
        <div class="country-dropdown">
            <span id="country-select">91</span>
        </div>
        <input placeholder="Enter Phone Number..." name="mobile-number" id="mobile-number" type="number">
        <button disabled type="button" id="send-btn"></button>
    </div>

    <!-- overlay -->
    <div class="overlay">
        <div class="popup">
            <input placeholder="Search country.." id="country-search" type="text">
            <ul id="country-list"></ul>
            <button id="close-popup" type="button"> Cancel</button>
        </div>
    </div>


    <footer>
        <a target="_blank" href="https://vineethtrv.github.io/">
            üë®‚Äçüíª Vineeth TR
        </a>
    </footer>


    <script type="text/javascript" src="app.js"></script>
    <script>
        // PWA
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js").then(registration => {
                console.log("Sw registered");
            }).catch(err => {
                console.log("Sw registration failed", err);
            })
        }

        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showInstallPromotion();
            console.log(`'beforeinstallprompt' event was fired.`);
        });




        function showInstallPromotion() {
            document.getElementById('install-pop').classList.add('show');
        }

        function hideInstallPromotion() {
            document.getElementById('install-pop').classList.remove('show');
        }

         document.getElementById('install-btn').addEventListener('click', async () => {
            hideInstallPromotion();
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            console.log(`User response to the install prompt: ${outcome}`);
            deferredPrompt = null;
        });



    </script>

</body>

</html>